{"version":3,"sources":["main.js"],"names":["$lastLi","$","userSite","localStorage","getItem","userSiteObject","JSON","parse","hashMap","logo","logoType","url","link","render","find","remove","forEach","node","index","$li","toUpperCase","insertBefore","on","window","open","e","stopPropagation","removeSite","simplifyUrl","replace","newUrl","prompt","indexOf","push","console","log","onbeforeunload","str","stringify","setItem","splice","document","key","i","length","toLowerCase"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAIA,OAAO,GAAGC,CAAC,CAAC,SAAD,CAAf;AACA;AACA;AACA;;AACA,IAAIC,QAAQ,GAAGC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAf;AACA,IAAIC,cAAc,GAAGC,IAAI,CAACC,KAAL,CAAWL,QAAX,CAArB;AAEA;AACA;AACA;;AACA,IAAIM,OAAO,GAAGH,cAAc,IAAI,CAC5B;AAACI,EAAAA,IAAI,EAAE,GAAP;AAAYC,EAAAA,QAAQ,EAAE,MAAtB;AAA8BC,EAAAA,GAAG,EAAE,sBAAnC;AAA2DC,EAAAA,IAAI,EAAE;AAAjE,CAD4B,EAE5B;AAACH,EAAAA,IAAI,EAAE,GAAP;AAAYC,EAAAA,QAAQ,EAAE,MAAtB;AAA8BC,EAAAA,GAAG,EAAE,sBAAnC;AAA2DC,EAAAA,IAAI,EAAE;AAAjE,CAF4B,CAAhC;AAKAC,MAAM;AAEN;AACA;AACA;;AACA,SAASA,MAAT,GAAkB;AACd;AACAZ,EAAAA,CAAC,CAAC,WAAD,CAAD,CAAea,IAAf,CAAoB,iBAApB,EAAuCC,MAAvC;AACAP,EAAAA,OAAO,CAACQ,OAAR,CAAgB,UAACC,IAAD,EAAMC,KAAN,EAAgB;AAC5B,QAAMC,GAAG,GAAGlB,CAAC,sSAOiBgB,IAAI,CAACR,IAAL,CAAU,CAAV,EAAaW,WAAb,EAPjB,2DAQiBH,IAAI,CAACL,IARtB,6CAAD,CAURS,YAVQ,CAUKrB,OAVL,CAAZ;AAWAmB,IAAAA,GAAG,CAACG,EAAJ,CAAO,OAAP,EAAgB,YAAM;AAClBC,MAAAA,MAAM,CAACC,IAAP,CAAYP,IAAI,CAACN,GAAjB;AACH,KAFD;AAGAQ,IAAAA,GAAG,CAACG,EAAJ,CAAO,OAAP,EAAe,QAAf,EAAwB,UAACG,CAAD,EAAK;AACzB;AACAA,MAAAA,CAAC,CAACC,eAAF;AACAC,MAAAA,UAAU,CAACT,KAAD,CAAV;AACAL,MAAAA,MAAM;AACT,KALD;AAMH,GArBD;AAsBH;AAED;AACA;AACA;;;AACA,SAASe,WAAT,CAAqBjB,GAArB,EAA0B;AACtB,SAAOA,GAAG,CAACkB,OAAJ,CAAY,UAAZ,EAAwB,EAAxB,EACFA,OADE,CACM,SADN,EACiB,EADjB,EAEFA,OAFE,CAEM,MAFN,EAEc,EAFd,EAGFA,OAHE,CAGM,MAHN,EAGc,EAHd,CAAP;AAIH;AAED;AACA;AACA;;;AACA5B,CAAC,CAAC,YAAD,CAAD,CACKqB,EADL,CACQ,OADR,EACiB,YAAM;AACf,MAAIQ,MAAM,GAAGP,MAAM,CAACQ,MAAP,CAAc,OAAd,CAAb,CADe,CAEf;;AACA,MAAID,MAAM,CAACE,OAAP,CAAe,MAAf,MAA2B,CAA/B,EAAkC;AAC9BF,IAAAA,MAAM,GAAG,aAAaA,MAAtB;AACH;;AACDtB,EAAAA,OAAO,CAACyB,IAAR,CAAa;AACTxB,IAAAA,IAAI,EAAEqB,MAAM,CAAC,CAAD,CAAN,CAAUV,WAAV,EADG;AAETV,IAAAA,QAAQ,EAAE,MAFD;AAGTC,IAAAA,GAAG,EAAEmB,MAHI;AAITlB,IAAAA,IAAI,EAAEgB,WAAW,CAACE,MAAD;AAJR,GAAb;AAMAI,EAAAA,OAAO,CAACC,GAAR,CAAY3B,OAAZ;AACAK,EAAAA,MAAM;AACT,CAfL;AAiBA;AACA;AACA;;AACAU,MAAM,CAACa,cAAP,GAAwB,YAAM;AAC1B,MAAIC,GAAG,GAAG/B,IAAI,CAACgC,SAAL,CAAe9B,OAAf,CAAV,CAD0B,CAE1B;;AACAL,EAAAA,YAAY,CAACoC,OAAb,CAAqB,UAArB,EAAiCF,GAAjC;AACH,CAJD;AAMA;AACA;AACA;;;AACA,SAASV,UAAT,CAAoBT,KAApB,EAA2B;AACvBV,EAAAA,OAAO,CAACgC,MAAR,CAAetB,KAAf,EAAqB,CAArB;AACH;AAED;AACA;AACA;;;AACAjB,CAAC,CAACwC,QAAD,CAAD,CAAYnB,EAAZ,CAAe,UAAf,EAA0B,UAACG,CAAD,EAAK;AAC3B,MAAIiB,GAAG,GAAGjB,CAAC,CAACiB,GAAZ;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGnC,OAAO,CAACoC,MAA5B,EAAoCD,CAAC,EAArC,EAAyC;AACrC,QAAGnC,OAAO,CAACmC,CAAD,CAAP,CAAWlC,IAAX,CAAgBoC,WAAhB,OAAkCH,GAArC,EAAyC;AACrCnB,MAAAA,MAAM,CAACC,IAAP,CAAYhB,OAAO,CAACmC,CAAD,CAAP,CAAWhC,GAAvB;AACH;AACJ;AACJ,CAPD","file":"main.e5873aae.js","sourceRoot":"..\\src","sourcesContent":["let $lastLi = $(\".lastLi\")\r\n/**\r\n * 每次加载网页时，从localstorage中加载用户之前保留的所有网址\r\n */\r\nlet userSite = localStorage.getItem(\"userSite\")\r\nlet userSiteObject = JSON.parse(userSite)\r\n\r\n/**\r\n * userSiteObject如果为空，初始化一下\r\n */\r\nlet hashMap = userSiteObject || [\r\n    {logo: \"A\", logoType: \"text\", url: \"https://www.acfun.cn\", link: \"acfun.cn\"},\r\n    {logo: \"B\", logoType: \"text\", url: \"https://bilibili.com\", link: \"bilibili.com\"}\r\n]\r\n\r\nrender()\r\n\r\n/**\r\n * 渲染 hashmap 功能\r\n */\r\nfunction render() {\r\n    //清空 ul下面的所有li，除了最后一个li，因为最后一个li是添加按钮\r\n    $(\".siteList\").find(\"li:not(.lastLi)\").remove()\r\n    hashMap.forEach((node,index) => {\r\n        const $li = $(`<li>\r\n            <div class=\"site\">\r\n                  <div class=\"close\">\r\n                  <svg class=\"icon delete\">\r\n                        <use xlink:href=\"#icon-delete\"></use>\r\n                  </svg>\r\n                  </div>\r\n                  <div class=\"logo\">${node.logo[0].toUpperCase()}</div>\r\n                  <div class=\"link\">${node.link}</div>\r\n              </div>\r\n    </li>`).insertBefore($lastLi)\r\n        $li.on(\"click\", () => {\r\n            window.open(node.url)\r\n        })\r\n        $li.on(\"click\",\".close\",(e)=>{\r\n            //点击 close 的时候，阻止冒泡\r\n            e.stopPropagation()\r\n            removeSite(index)\r\n            render()\r\n        })\r\n    })\r\n}\r\n\r\n/**\r\n *  简化URL功能\r\n */\r\nfunction simplifyUrl(url) {\r\n    return url.replace(\"https://\", \"\")\r\n        .replace(\"http://\", \"\")\r\n        .replace(\"www.\", \"\")\r\n        .replace(/\\/.*/, \"\")\r\n}\r\n\r\n/**\r\n * 添加网站功能\r\n */\r\n$(\".addButton\")\r\n    .on(\"click\", () => {\r\n        let newUrl = window.prompt(\"请输入网址\")\r\n        //如果不是以http开头，帮助用户添加前缀\r\n        if (newUrl.indexOf(\"http\") !== 0) {\r\n            newUrl = \"https://\" + newUrl\r\n        }\r\n        hashMap.push({\r\n            logo: newUrl[8].toUpperCase(),\r\n            logoType: \"text\",\r\n            url: newUrl,\r\n            link: simplifyUrl(newUrl)\r\n        })\r\n        console.log(hashMap)\r\n        render()\r\n    })\r\n\r\n/*\r\n    当用户关闭，或跳转到其他网站时，保留用户所有网址到localstorage\r\n */\r\nwindow.onbeforeunload = () => {\r\n    let str = JSON.stringify(hashMap)\r\n    //localStorage.clear()\r\n    localStorage.setItem(\"userSite\", str)\r\n}\r\n\r\n/**\r\n * 删除功能\r\n */\r\nfunction removeSite(index) {\r\n    hashMap.splice(index,1)\r\n}\r\n\r\n/**\r\n * 监听键盘事件，快捷跳转页面\r\n */\r\n$(document).on(\"keypress\",(e)=>{\r\n    let key = e.key\r\n    for (let i = 0; i < hashMap.length; i++) {\r\n        if(hashMap[i].logo.toLowerCase() === key){\r\n            window.open(hashMap[i].url)\r\n        }\r\n    }\r\n})"]}